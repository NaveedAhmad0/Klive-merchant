{"version":3,"sources":["assets/images/logo.svg","Merchant Panel/Merchant-Panel-Pages/Merchant-Auth/Login.js","Merchant Panel/Merchant-Panel-Pages/Merchant-Auth/Register.js"],"names":["module","exports","AdminLogin","useEffect","localStorage","clear","useState","email","setEmail","password","setPassword","success","setSuccess","errMsg","setErrMsg","event","preventDefault","console","log","axios","post","JSON","stringify","headers","response","data","accessToken","setItem","status","className","Group","Control","type","placeholder","onChange","target","value","handleChange","size","handleChangeone","to","onClick","onSubmit","USER_REGEX","PWD_REGEX","EMAIL_REGEX","MOBILE_REGEX","Register","userRef","useRef","errRef","name","setName","validName","setValidName","userFocus","setUserFocus","mobile","setMobile","validMobile","setValidMobile","mobileFocus","setMobileFocus","validEmail","setValidEmail","emailFocus","setEmailFocus","validPwd","setValidPwd","setPwdFocus","matchPwd","setMatchPwd","validMatch","setValidMatch","setMatchFocus","current","focus","result","test","handleSubmit","e","v1","v2","src","require","alt","ref","aria-live","icon","faCheck","faTimes","id","autoComplete","required","aria-invalid","aria-describedby","onFocus","onBlur","faInfoCircle","parseInt","href","disabled"],"mappings":"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","file":"static/js/10.e6fe2061.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.3e4e520c.svg\";","import React, { useEffect, useState } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\n\r\nfunction AdminLogin() {\r\n\tuseEffect(() => {\r\n\t\tlocalStorage.clear();\r\n\t}, []);\r\n\tconst [email, setEmail] = useState(\"\");\r\n\tconst [password, setPassword] = useState(\"\");\r\n\tconst [success, setSuccess] = useState(false);\r\n\tconst [errMsg, setErrMsg] = useState(\"\");\r\n\t// const logindetails = { email, password };\r\n\r\n\t// const navigate = Redirect();\r\n\tfunction handleChange(event) {\r\n\t\tsetEmail(event.target.value);\r\n\t}\r\n\tfunction handleChangeone(event) {\r\n\t\tsetPassword(event.target.value);\r\n\t}\r\n\tasync function onSubmit(event) {\r\n\t\tevent.preventDefault();\r\n\t\tconsole.log(email, password);\r\n\t\ttry {\r\n\t\t\tconst response = await axios.post(\r\n\t\t\t\t`https://backend.klivepay.com/api/merchant/login`,\r\n\t\t\t\tJSON.stringify({ email, password }),\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: { \"Content-Type\": \"application/json\" },\r\n\t\t\t\t\t// withCredentials: true,\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\tconsole.log(JSON.stringify(response?.data));\r\n\r\n\t\t\tconst accessToken = response?.data?.accessToken;\r\n\t\t\tlocalStorage.setItem(\"token\", accessToken);\r\n\t\t\tsetEmail(\"\");\r\n\t\t\tsetPassword(\"\");\r\n\t\t\tsetSuccess(true);\r\n\t\t} catch (err) {\r\n\t\t\tif (!err?.response) {\r\n\t\t\t\tsetErrMsg(\"No Server Response\");\r\n\t\t\t} else if (err.response?.status === 400) {\r\n\t\t\t\tsetErrMsg(\"Invalid Credentialials\");\r\n\t\t\t\tsetSuccess(false);\r\n\t\t\t} else {\r\n\t\t\t\tsetErrMsg(\"Login failed\");\r\n\t\t\t}\r\n\t\t\tconsole.log(err);\r\n\t\t}\r\n\t\tconsole.log(success);\r\n\t}\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className=\"d-flex align-items-center auth px-0\">\r\n\t\t\t\t<div className=\"row w-100 mx-0\">\r\n\t\t\t\t\t<div className=\"col-lg-6 mx-auto\">\r\n\t\t\t\t\t\t<div className=\"auth-form-light text-left py-5 px-4 px-sm-5\">\r\n\t\t\t\t\t\t\t<div className=\"brand-logo\">\r\n\t\t\t\t\t\t\t\t<h3 className={!errMsg ? \"errMsg\" : \"text-danger\"}>{errMsg}</h3>\r\n\r\n\t\t\t\t\t\t\t\t{/* <img\r\n\t\t\t\t\t\t\t\t\tsrc={require(\"../../../assets/images/logo.svg\")}\r\n\t\t\t\t\t\t\t\t\talt=\"logo\"\r\n\t\t\t\t\t\t\t\t/> */}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<h4>Hello! let's get started</h4>\r\n\t\t\t\t\t\t\t<h6 className=\"font-weight-light\">Sign in to continue.</h6>\r\n\t\t\t\t\t\t\t<Form className=\"pt-3\">\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"d-flex search-field\">\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Username\"\r\n\t\t\t\t\t\t\t\t\t\tonChange={(event) => handleChange(event)}\r\n\t\t\t\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"h-auto\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"d-flex search-field\">\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t\t\t\t\t\t\tonChange={(event) => handleChangeone(event)}\r\n\t\t\t\t\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\t\t\t\t\tsize=\"lg\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"h-auto\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<div className=\"mt-3\">\r\n\t\t\t\t\t\t\t\t\t{!success ? (\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={(event) => onSubmit(event)}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-block btn-primary btn-lg font-weight-medium auth-form-btn\">\r\n\t\t\t\t\t\t\t\t\t\t\tSIGN IN\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<Redirect to=\"/merchant/dashboard\" />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2 d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"form-check\">\r\n\t\t\t\t\t\t\t\t\t\t<label className=\"form-check-label text-muted\">\r\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"checkbox\" className=\"form-check-input\" />\r\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"input-helper\"></i>\r\n\t\t\t\t\t\t\t\t\t\t\tKeep me signed in\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\tto=\"/merchant/forgot-password\"\r\n\t\t\t\t\t\t\t\t\t\t// onClick={(event) => event.preventDefault()}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"auth-link text-black\">\r\n\t\t\t\t\t\t\t\t\t\tForgot password?\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-block btn-facebook auth-form-btn\">\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"mdi mdi-facebook mr-2\"></i>Connect using\r\n\t\t\t\t\t\t\t\t\t\tfacebook\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"text-center mt-4 font-weight-light\">\r\n\t\t\t\t\t\t\t\t\tDon't have an account?{\" \"}\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/merchant/registration\" className=\"text-primary\">\r\n\t\t\t\t\t\t\t\t\t\tCreate\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default AdminLogin;\r\n","import React, { useEffect, useState, useRef } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport {\r\n\tfaCheck,\r\n\tfaTimes,\r\n\tfaInfoCircle,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n// import API from \"../../../backend\";\r\nimport MerchantLogin from \"../Merchant-Auth/Login\";\r\n\r\nconst USER_REGEX = /^[A-z][A-z0-9-_]{3,23}$/;\r\nconst PWD_REGEX = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%]).{8,24}$/;\r\nconst EMAIL_REGEX = /^[a-zA-Z0-9+_.-]+@[a-zA-Z0-9.-]+$/;\r\nconst MOBILE_REGEX = /^[0-9]{10}$/;\r\n\r\nfunction Register() {\r\n\tconst userRef = useRef();\r\n\tconst errRef = useRef();\r\n\r\n\tconst [name, setName] = useState(\"\");\r\n\tconst [validName, setValidName] = useState(false);\r\n\tconst [userFocus, setUserFocus] = useState(false);\r\n\r\n\tconst [mobile, setMobile] = useState(0);\r\n\tconst [validMobile, setValidMobile] = useState(false);\r\n\tconst [mobileFocus, setMobileFocus] = useState(false);\r\n\r\n\tconst [email, setEmail] = useState(\"\");\r\n\tconst [validEmail, setValidEmail] = useState(false);\r\n\tconst [emailFocus, setEmailFocus] = useState(false);\r\n\r\n\tconst [password, setPassword] = useState(\"\");\r\n\tconst [validPwd, setValidPwd] = useState(false);\r\n\tconst [pwdFocus, setPwdFocus] = useState(false);\r\n\r\n\tconst [matchPwd, setMatchPwd] = useState(\"\");\r\n\tconst [validMatch, setValidMatch] = useState(false);\r\n\tconst [matchFocus, setMatchFocus] = useState(false);\r\n\r\n\tconst [errMsg, setErrMsg] = useState(\"\");\r\n\tconst [success, setSuccess] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tuserRef.current.focus();\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst result = USER_REGEX.test(name);\r\n\t\tconsole.log(result);\r\n\t\tconsole.log(name);\r\n\t\tsetValidName(result);\r\n\t}, [name]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst result = EMAIL_REGEX.test(email);\r\n\t\tconsole.log(result);\r\n\t\tconsole.log(email);\r\n\t\tsetValidEmail(result);\r\n\t}, [email]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst result = MOBILE_REGEX.test(mobile);\r\n\t\tconsole.log(result);\r\n\t\tconsole.log(mobile);\r\n\t\tsetValidMobile(result);\r\n\t}, [mobile]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst result = PWD_REGEX.test(password);\r\n\t\tconsole.log(result);\r\n\t\tconsole.log(password);\r\n\t\tsetValidPwd(result);\r\n\t\tconst match = password === matchPwd;\r\n\t\tsetValidMatch(match);\r\n\t}, [password, matchPwd]);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetErrMsg(\"\");\r\n\t}, [password, name, matchPwd]);\r\n\r\n\tconst handleSubmit = async (e) => {\r\n\t\te.preventDefault();\r\n\t\t// if button enabled with JS hack\r\n\t\tconst v1 = USER_REGEX.test(name);\r\n\t\tconst v2 = PWD_REGEX.test(password);\r\n\t\tif (!v1 || !v2) {\r\n\t\t\tsetErrMsg(\"Invalid Entry\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tconst response = await axios.post(\r\n\t\t\t\t\"https://backend.klivepay.com/api/merchant/register\",\r\n\t\t\t\tJSON.stringify({ name, mobile, email, password }),\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: { \"Content-Type\": \"application/json\" },\r\n\t\t\t\t\t// withCredentials: true\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t\tconsole.log(response?.data);\r\n\t\t\t// console.log(response?.accessToken);\r\n\t\t\tconsole.log(JSON.stringify(response));\r\n\t\t\tsetSuccess(true);\r\n\t\t\t//clear state and controlled inputs\r\n\t\t\t//need value attrib on inputs for this\r\n\t\t\tsetName(\"\");\r\n\t\t\tsetEmail(\"\");\r\n\t\t\tsetPassword(\"\");\r\n\t\t\tsetMatchPwd(\"\");\r\n\t\t} catch (err) {\r\n\t\t\tif (!err?.response) {\r\n\t\t\t\tsetErrMsg(\"No Server Response\");\r\n\t\t\t} else if (err.response?.status === 409) {\r\n\t\t\t\tsetErrMsg(\"Username Taken\");\r\n\t\t\t} else {\r\n\t\t\t\tsetErrMsg(\"Registration Failed\");\r\n\t\t\t}\r\n\t\t\terrRef.current.focus();\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{success ? (\r\n\t\t\t\t<MerchantLogin />\r\n\t\t\t) : (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className=\"d-flex align-items-center auth px-0\">\r\n\t\t\t\t\t\t<div className=\"row w-100 mx-0\">\r\n\t\t\t\t\t\t\t<div className=\"col-lg-6 mx-auto\">\r\n\t\t\t\t\t\t\t\t<div className=\"auth-form-light text-left py-5 px-4 px-sm-5\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"brand-logo\">\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={require(\"../../../assets/images/logo.svg\")}\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"logo\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\tref={errRef}\r\n\t\t\t\t\t\t\t\t\t\tclassName={errMsg ? \"errmsg\" : \"offscreen\"}\r\n\t\t\t\t\t\t\t\t\t\taria-live=\"assertive\">\r\n\t\t\t\t\t\t\t\t\t\t{errMsg}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<h4>New here??</h4>\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"font-weight-light\">\r\n\t\t\t\t\t\t\t\t\t\tSigning up is easy. It only takes a few steps\r\n\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t<form className=\"pt-3\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon={faCheck}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={!validName ? \"valid\" : \"hide\"}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon={faTimes}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={!validName || name ? \"hide\" : \"invalid\"}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"username\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tref={userRef}\r\n\t\t\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\taria-invalid={validName ? \"false\" : \"true\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\taria-describedby=\"uidnote\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonFocus={() => setUserFocus(true)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonBlur={() => setUserFocus(false)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Username\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control form-control-lg\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"uidnote\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tuserFocus && name && !validName\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"instructions\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"offscreen\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faInfoCircle} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t4 to 24 characters.\r\n\t\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t\tMust begin with a letter.\r\n\t\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t\tLetters, numbers, underscores, hyphens allowed.\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon={faCheck}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={validMobile ? \"valid\" : \"hide\"}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon={faTimes}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={validMobile || !mobile ? \"hide\" : \"invalid\"}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"mobileNumber\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setMobile(parseInt(e.target.value))}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={mobile}\r\n\t\t\t\t\t\t\t\t\t\t\t\taria-invalid={validMobile ? \"false\" : \"true\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\tonFocus={() => setMobileFocus(true)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonBlur={() => setMobileFocus(false)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control form-control-lg\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"mobile\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"uidnote\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmobileFocus && mobile && !validMobile\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"instructions\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"offscreen\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faInfoCircle} />\r\n\t\t\t\t\t\t\t\t\t\t\t\tmust be 10 digits.\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon={faCheck}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={validEmail ? \"valid\" : \"hide\"}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon={faTimes}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={validEmail || !email ? \"hide\" : \"invalid\"}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"email\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\t\t\t\t\t\taria-invalid={validEmail ? \"false\" : \"true\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\tonFocus={() => setEmailFocus(true)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonBlur={() => setEmailFocus(false)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control form-control-lg\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Email\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"uidnote\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\temailFocus && email && !validEmail\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"instructions\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"offscreen\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faInfoCircle} />\r\n\t\t\t\t\t\t\t\t\t\t\t\tmust be a proper email address.\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\taria-invalid={validPwd ? \"false\" : \"true\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\taria-describedby=\"pwdnote\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonFocus={() => setPwdFocus(true)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonBlur={() => setPwdFocus(false)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control form-control-lg\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"Confirm-password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setMatchPwd(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={matchPwd}\r\n\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\taria-invalid={validMatch ? \"false\" : \"true\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\taria-describedby=\"confirmnote\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonFocus={() => setMatchFocus(true)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonBlur={() => setMatchFocus(false)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control form-control-lg\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Confirm Password\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"mb-4\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"form-check\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<label className=\"form-check-label text-muted\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"checkbox\" className=\"form-check-input\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"input-helper\"></i>I agree to all Terms &\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tConditions\r\n\t\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"mt-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t// type=\"submit\"\r\n\t\t\t\t\t\t\t\t\t\t\t\thref=\"/merchant/login\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleSubmit}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t!validName ||\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t!validPwd ||\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t!validMobile ||\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t!validEmail ||\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t!validMatch\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? true\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: false\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-block btn-primary btn-lg font-weight-medium auth-form-btn\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{/* <Link to=\"/merchant/dashboard\" className=\"text-white\"> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\tSIGN UP\r\n\t\t\t\t\t\t\t\t\t\t\t\t{/* </Link> */}\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"text-center mt-4 font-weight-light\">\r\n\t\t\t\t\t\t\t\t\t\t\tAlready have an account?{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t<Link to=\"/user-pages/login\" className=\"text-primary\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tLogin\r\n\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default Register;\r\n"],"sourceRoot":""}